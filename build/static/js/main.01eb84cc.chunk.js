(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(17),o=t.n(r),a=t(8),u=t(3),i=t(4),s=t.n(i),l="/api/persons",d={getAll:function(){return s.a.get(l).then((function(e){return e.data}))},create:function(e){return s.a.post(l,e).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},remove:function(e){return s.a.delete("".concat(l,"/").concat(e.id)).then((function(e){return e.data}))},update:function(e){return s.a.put("".concat(l,"/").concat(e.id),e).then((function(e){return e.data})).catch((function(n){throw new Error("Unable to update information for: ".concat(e.name))}))}},b=t(0),j=function(e){var n=e.person,t=e.deleteHandle;return Object(b.jsxs)("li",{children:[n.name," : ",n.number,Object(b.jsx)("button",{onClick:function(){return t(n)},children:"Delete"})]})},h=function(e){return Object(b.jsxs)("div",{children:["Filter Numbers by Name: ",Object(b.jsx)("input",{onChange:e.handleChange,type:"text"})]})},f=function(e){return Object(b.jsxs)("form",{onSubmit:e.addContact,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"contact-name",children:"Name: "}),Object(b.jsx)("input",{id:"contact-name",onChange:e.handleName})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"phone-number",children:"Phone Number: "}),Object(b.jsx)("input",{id:"phone-number",onChange:e.handlePhoneNumber})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"Add Contact"})})]})},m=function(e){var n=e.message;if(null==n)return null;return Object(b.jsx)("div",{style:{background:"lightgray",color:"green",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},O=function(e){var n=e.message;if(null==n)return null;return Object(b.jsx)("div",{style:{background:"lightgray",color:"red",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},p=5e3,g=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),i=Object(u.a)(o,2),s=i[0],l=i[1],g=Object(c.useState)(""),x=Object(u.a)(g,2),v=x[0],w=x[1],y=Object(c.useState)(""),C=Object(u.a)(y,2),N=C[0],S=C[1],k=Object(c.useState)(null),P=Object(u.a)(k,2),A=P[0],B=P[1],D=Object(c.useState)(null),E=Object(u.a)(D,2),T=E[0],F=E[1],H=function(e){window.confirm("Delete ".concat(e.name,"?"))&&d.remove(e).then((function(n){r(t.filter((function(n){return n.id!==e.id})))}))};Object(c.useEffect)((function(){d.getAll().then((function(e){return r(t.concat(e))}))}),[]);var J=N?t.filter((function(e){return n=e.name,t=N,n.toLowerCase().includes(t.toLowerCase());var n,t})):t;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Phone Book"}),Object(b.jsx)(m,{message:A}),Object(b.jsx)(O,{message:T}),Object(b.jsx)(h,{handleChange:function(e){S(e.target.value)}}),Object(b.jsx)("h1",{children:"Add New Number"}),Object(b.jsx)(f,{addContact:function(e){e.preventDefault();var n=t.find((function(e){return e.name===s}));if(n){if(window.confirm("Do you wish to update ".concat(n.name," contact info?"))){var c=Object(a.a)(Object(a.a)({},n),{},{number:v});d.update(c).then((function(e){return r(t.map((function(n){return n.id===e.id?e:n}))),e})).then((function(e){B("".concat(e.name," was successfully updated in contacts")),setTimeout((function(){B(null)}),p)})).catch((function(e){F(e.message),setTimeout((function(){F(null)}),p)}))}}else{var o={name:s,number:v};d.create(o).then((function(e){return r(t.concat(e)),e})).then((function(e){B("".concat(e.name," was successfully added to contacts")),setTimeout((function(){B(null)}),p)})).catch((function(e){F(e.message),setTimeout((function(){F(null)}),p)}))}},handleName:function(e){l(e.target.value)},handlePhoneNumber:function(e){w(e.target.value)}}),Object(b.jsx)("h2",{children:"Phone Numbers"}),Object(b.jsx)("ul",{children:J.map((function(e,n){return Object(b.jsx)(j,{person:e,deleteHandle:H},n)}))})]})};o.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.01eb84cc.chunk.js.map