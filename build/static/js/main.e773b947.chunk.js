(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(17),o=n.n(r),a=n(8),u=n(3),i=n(4),s=n.n(i),l="http://localhost:3001/api/persons",d={getAll:function(){return s.a.get(l).then((function(e){return e.data}))},create:function(e){return s.a.post(l,e).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},remove:function(e){return s.a.delete("".concat(l,"/").concat(e.id)).then((function(e){return e.data}))},update:function(e){return s.a.put("".concat(l,"/").concat(e.id),e).then((function(e){return e.data})).catch((function(t){throw new Error("Unable to update information for: ".concat(e.name))}))}},b=n(0),j=function(e){var t=e.person,n=e.deleteHandle;return Object(b.jsxs)("li",{children:[t.name," : ",t.number,Object(b.jsx)("button",{onClick:function(){return n(t)},children:"Delete"})]})},h=function(e){return Object(b.jsxs)("div",{children:["Filter Numbers by Name: ",Object(b.jsx)("input",{onChange:e.handleChange,type:"text"})]})},f=function(e){return Object(b.jsxs)("form",{onSubmit:e.addContact,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"contact-name",children:"Name: "}),Object(b.jsx)("input",{id:"contact-name",onChange:e.handleName})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"phone-number",children:"Phone Number: "}),Object(b.jsx)("input",{id:"phone-number",onChange:e.handlePhoneNumber})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"Add Contact"})})]})},m=function(e){var t=e.message;if(null==t)return null;return Object(b.jsx)("div",{style:{background:"lightgray",color:"green",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},O=function(e){var t=e.message;if(null==t)return null;return Object(b.jsx)("div",{style:{background:"lightgray",color:"red",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})},p=5e3,g=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),i=Object(u.a)(o,2),s=i[0],l=i[1],g=Object(c.useState)(""),x=Object(u.a)(g,2),v=x[0],w=x[1],y=Object(c.useState)(""),C=Object(u.a)(y,2),N=C[0],S=C[1],k=Object(c.useState)(null),P=Object(u.a)(k,2),A=P[0],B=P[1],D=Object(c.useState)(null),E=Object(u.a)(D,2),T=E[0],F=E[1],H=function(e){window.confirm("Delete ".concat(e.name,"?"))&&d.remove(e).then((function(t){r(n.filter((function(t){return t.id!==e.id})))}))};Object(c.useEffect)((function(){d.getAll().then((function(e){return r(n.concat(e))}))}),[]);var J=N?n.filter((function(e){return t=e.name,n=N,t.toLowerCase().includes(n.toLowerCase());var t,n})):n;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Phone Book"}),Object(b.jsx)(m,{message:A}),Object(b.jsx)(O,{message:T}),Object(b.jsx)(h,{handleChange:function(e){S(e.target.value)}}),Object(b.jsx)("h1",{children:"Add New Number"}),Object(b.jsx)(f,{addContact:function(e){e.preventDefault();var t=n.find((function(e){return e.name===s}));if(t){if(window.confirm("Do you wish to update ".concat(t.name," contact info?"))){var c=Object(a.a)(Object(a.a)({},t),{},{number:v});d.update(c).then((function(e){return r(n.map((function(t){return t.id===e.id?e:t}))),e})).then((function(e){B("".concat(e.name," was successfully updated in contacts")),setTimeout((function(){B(null)}),p)})).catch((function(e){F(e.message),setTimeout((function(){F(null)}),p)}))}}else{var o={name:s,number:v};d.create(o).then((function(e){return r(n.concat(e)),e})).then((function(e){B("".concat(e.name," was successfully added to contacts")),setTimeout((function(){B(null)}),p)})).catch((function(e){F(e.message),setTimeout((function(){F(null)}),p)}))}},handleName:function(e){l(e.target.value)},handlePhoneNumber:function(e){w(e.target.value)}}),Object(b.jsx)("h2",{children:"Phone Numbers"}),Object(b.jsx)("ul",{children:J.map((function(e,t){return Object(b.jsx)(j,{person:e,deleteHandle:H},t)}))})]})};o.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e773b947.chunk.js.map